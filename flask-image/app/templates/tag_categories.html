{% extends 'base.html' %}
{% block content %}
<br>
<br>
<br>
<br>
<div class="container">
  <h1>{{ tag.name[0]|upper }}{{ tag.name[1:] }} </h1>
  <br>
  <div class="card-grid mt-4">
    {% for blog in query_blogs %}
    <div class="card box-shadow h-100">
      <img class="card-img-top" alt="Thumbnail [200x250}" src="{{url_for('static', filename='imgs/'+blog.thumbnail) }}">

      <div class="card-body d-flex flex-column">
        <a class="text-primary fw-bold mb-2" href="{{ url_for('blogs.get_single_blog', slug=blog.slug) }}">
          {{ blog.title }}
        </a>
        <p class="text-secondary flex-grow-1">{{ blog.summary }}</p>
      </div>
      <div class="card-footer text-muted">
        <small>Published: {{ blog.created_at.strftime('%d-%m-%Y') }} {{ estimate_reading_time(blog.content)
          }} </small>
        <p>
          {% for tag in tags %}
          {% if tag[1].id == blog.id %}
          <a href={{ url_for('blogs.get_tags', tag=tag[0].name) }} class="badge bg-primary"> {{
            tag[0].name }}</a>
          {% endif %}
          {% endfor %}
        </p>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock content %}